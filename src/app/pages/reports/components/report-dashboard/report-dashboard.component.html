<div class="p-4">
    <!-- Report Navigation Cards -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
      <p-card styleClass="cursor-pointer hover:shadow-lg transition-shadow"
              (click)="navigateToReport('financial')">
        <div class="flex items-center">
          <i class="ri-money-dollar-circle-line text-3xl mr-3 text-blue-500"></i>
          <div>
            <h3 class="text-xl font-semibold">Financial Reports</h3>
            <p class="text-gray-600">Revenue and expense analysis</p>
          </div>
        </div>
      </p-card>

      <p-card styleClass="cursor-pointer hover:shadow-lg transition-shadow"
              (click)="navigateToReport('patient')">
        <div class="flex items-center">
          <i class="ri-user-heart-line text-3xl mr-3 text-green-500"></i>
          <div>
            <h3 class="text-xl font-semibold">Patient Reports</h3>
            <p class="text-gray-600">Patient statistics and trends</p>
          </div>
        </div>
      </p-card>

      <p-card styleClass="cursor-pointer hover:shadow-lg transition-shadow"
              (click)="navigateToReport('department')">
        <div class="flex items-center">
          <i class="ri-hospital-line text-3xl mr-3 text-orange-500"></i>
          <div>
            <h3 class="text-xl font-semibold">Department Reports</h3>
            <p class="text-gray-600">Department performance</p>
          </div>
        </div>
      </p-card>

      <p-card styleClass="cursor-pointer hover:shadow-lg transition-shadow"
              (click)="navigateToReport('inventory')">
        <div class="flex items-center">
          <i class="ri-stock-line text-3xl mr-3 text-purple-500"></i>
          <div>
            <h3 class="text-xl font-semibold">Inventory Reports</h3>
            <p class="text-gray-600">Stock and usage analysis</p>
          </div>
        </div>
      </p-card>
    </div>

    <!-- Quick Filters -->
    <p-card styleClass="mb-6">
      <div class="flex flex-wrap gap-4">
        <div class="flex-1">
          <label class="block text-sm font-medium text-gray-700 mb-1">
            Date Range
          </label>
          <p-calendar 
            [(ngModel)]="dateRange" 
            selectionMode="range"
            [showIcon]="true"
            [maxDate]="today"
            (onSelect)="onDateRangeChange()"
            styleClass="w-full">
          </p-calendar>
        </div>

        <div class="flex-1">
          <label class="block text-sm font-medium text-gray-700 mb-1">
            Department
          </label>
          <p-dropdown 
            [options]="departments"
            [(ngModel)]="selectedDepartment"
            (onChange)="onFiltersChange()"
            [style]="{'width':'100%'}"
            placeholder="All Departments">
          </p-dropdown>
        </div>

        <div class="flex-1">
          <label class="block text-sm font-medium text-gray-700 mb-1">
            Group By
          </label>
          <p-dropdown 
            [options]="groupByOptions"
            [(ngModel)]="selectedGroupBy"
            (onChange)="onFiltersChange()"
            [style]="{'width':'100%'}"
            placeholder="Select Grouping">
          </p-dropdown>
        </div>
      </div>
    </p-card>

    <!-- Key Metrics -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
      <!-- Revenue Trend -->
      <p-card header="Revenue Trend">
        <p-chart 
          type="line" 
          [data]="revenueTrendData"
          [options]="chartOptions">
        </p-chart>
      </p-card>

      <!-- Department Performance -->
      <p-card header="Department Performance">
        <p-chart 
          type="bar" 
          [data]="departmentPerformanceData"
          [options]="chartOptions">
        </p-chart>
      </p-card>
    </div>

    <!-- Recent Reports -->
    <p-card header="Recently Generated Reports">
      <p-table 
        [value]="recentReports" 
        [rows]="5"
        styleClass="p-datatable-sm"
        [scrollable]="true">
        <ng-template pTemplate="header">
          <tr>
            <th>Report Name</th>
            <th>Type</th>
            <th>Generated On</th>
            <th>Generated By</th>
            <th>Actions</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-report>
          <tr>
            <td>{{report.name}}</td>
            <td>
              <span [class]="getReportTypeClass(report.type)">
                {{report.type}}
              </span>
            </td>
            <td>{{report.generatedOn | date:'medium'}}</td>
            <td>{{report.generatedBy}}</td>
            <td>
              <div class="flex gap-2">
                <p-button 
                  icon="ri-eye-line" 
                  severity="secondary"
                  (onClick)="viewReport(report)">
                </p-button>
                <p-button 
                  icon="ri-download-line" 
                  severity="secondary"
                  (onClick)="downloadReport(report)">
                </p-button>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </p-card>
  </div>